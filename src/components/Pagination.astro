---
interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

function pageUrl(page: number): string {
  if (page === 1) return `${baseUrl}/`;
  return `${baseUrl}/${page}/`;
}
---
{totalPages > 1 && (
  <nav class="pagination" aria-label="Pagination">
    {currentPage > 1 && (
      <a href={pageUrl(currentPage - 1)} aria-label="Previous page">&laquo;</a>
    )}
    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
      page === currentPage
        ? <span class="active" aria-current="page">{page}</span>
        : <a href={pageUrl(page)}>{page}</a>
    ))}
    {currentPage < totalPages && (
      <a href={pageUrl(currentPage + 1)} aria-label="Next page">&raquo;</a>
    )}
  </nav>
)}
